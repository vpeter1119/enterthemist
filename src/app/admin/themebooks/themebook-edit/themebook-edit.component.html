<div class="container">
  <div class="row">
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <div class="col-md-6 col-xs-12" *ngIf="!isLoading">
      <mat-card class="logos">
        <mat-card-header>
          <mat-card-title>
            Select themebook to edit
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <label>Select themebook:</label>
          <mat-form-field appearance="outline">
            <mat-label>Themebook</mat-label>
            <mat-select [(ngModel)]="selected" (selectionChange)="setSelected(selected)">
              <mat-option *ngFor="let tb of allTbs"
              [value]="tb.name">
                {{ _tc.capitalize(tb.name) }} ({{ _tc.capitalize(tb.tbtype) }})
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-card-content>
      </mat-card>
      <form [formGroup]="newThemeBookForm" (ngSubmit)="onSubmit()">
        <mat-card class="logos">
          <mat-card-header>
            <mat-card-title>
              Edit Themebook
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
              <mat-form-field appearance="outline">
                <mat-label>Type</mat-label>
                <input matInput type="text" formControlName="tbtype" [value]="selectedTb.tbtype">
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Name</mat-label>
                <input matInput type="text" formControlName="name" [value]="selectedTb.name">
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Description</mat-label>
                <textarea matInput formControlName="description"></textarea>
              </mat-form-field>
          </mat-card-content>
        </mat-card>
        <div formGroupName="ptagq">
          <mat-card class="logos">
          <mat-card-header>
            <mat-card-title>
              Power tag questions
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
              <mat-form-field appearance="outline">
                <mat-label>A</mat-label>
                <textarea matInput formControlName="A" value="{{ selectedTb.ptagq.A }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="aXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>B</mat-label>
                <textarea matInput formControlName="B" value="{{ selectedTb.ptagq.B }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="bXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>C</mat-label>
                <textarea matInput formControlName="C" value="{{ selectedTb.ptagq.C }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="cXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>D</mat-label>
                <textarea matInput formControlName="D" value="{{ selectedTb.ptagq.D }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="dXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>E</mat-label>
                <textarea matInput formControlName="E" value="{{ selectedTb.ptagq.E }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="eXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>F</mat-label>
                <textarea matInput formControlName="F" value="{{ selectedTb.ptagq.F }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="fXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>G</mat-label>
                <textarea matInput formControlName="G" value="{{ selectedTb.ptagq.G }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="gXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>H</mat-label>
                <textarea matInput formControlName="H" value="{{ selectedTb.ptagq.H }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="hXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>I</mat-label>
                <textarea matInput formControlName="I" value="{{ selectedTb.ptagq.I }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="iXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>J</mat-label>
                <textarea matInput formControlName="J" value="{{ selectedTb.ptagq.J }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="jXmp">
              </mat-form-field>
          </mat-card-content>
        </mat-card>
        </div>
        <div formGroupName="wtagq">
          <mat-card class="logos">
          <mat-card-header>
            <mat-card-title>
              Weakness tag questions
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
              <mat-form-field appearance="outline">
                <mat-label>A</mat-label>
                <textarea matInput formControlName="A" value="{{ selectedTb.wtagq.A }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="aXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>B</mat-label>
                <textarea matInput formControlName="B" value="{{ selectedTb.wtagq.B }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="bXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>C</mat-label>
                <textarea matInput formControlName="C" value="{{ selectedTb.wtagq.C }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="cXmp">
              </mat-form-field>
              <hr class="tag-divider">
              <mat-form-field appearance="outline">
                <mat-label>D</mat-label>
                <textarea matInput formControlName="D" value="{{ selectedTb.wtagq.D }}"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Examples</mat-label>
                <input type="text" matInput formControlName="dXmp">
              </mat-form-field>
          </mat-card-content>
        </mat-card>
        </div>      
        <mat-card class="logos">
          <mat-card-header>
            <mat-card-title>
              Improvements
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div formGroupName="improvements">
              <div formGroupName="imp1">
                <label>First improvement:</label>
                <mat-form-field appearance="outline">
                  <mat-label>Name</mat-label>
                  <input matInput formControlName="name" type="text" value="{{ selectedTb.improvements[0].name }}">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Description</mat-label>
                  <textarea matInput formControlName="description" 
                  value="{{ selectedTb.improvements[0].description }}"></textarea>
                </mat-form-field>
              </div>
              <div formGroupName="imp2">
                <label>Second improvement:</label>
                <mat-form-field appearance="outline">
                  <mat-label>Name</mat-label>
                  <input matInput formControlName="name" type="text" value="{{ selectedTb.improvements[1].name }}">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Description</mat-label>
                  <textarea matInput formControlName="description" 
                  value="{{ selectedTb.improvements[1].description }}"></textarea>
                </mat-form-field>
              </div>
              <div formGroupName="imp3">
                <label>Third improvement:</label>
                <mat-form-field appearance="outline">
                  <mat-label>Name</mat-label>
                  <input matInput formControlName="name" type="text" value="{{ selectedTb.improvements[2].name }}">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Description</mat-label>
                  <textarea matInput formControlName="description" 
                  value="{{ selectedTb.improvements[2].description }}"></textarea>
                </mat-form-field>
              </div>
              <div formGroupName="imp4">
                <label>Fourth improvement:</label>
                <mat-form-field appearance="outline">
                  <mat-label>Name</mat-label>
                  <input matInput formControlName="name" type="text" value="{{ selectedTb.improvements[3].name }}">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Description</mat-label>
                  <textarea matInput formControlName="description" 
                  value="{{ selectedTb.improvements[3].description }}"></textarea>
                </mat-form-field>
              </div>
              <div formGroupName="imp5">
                <label>Fifth improvement:</label>
                <mat-form-field appearance="outline">
                  <mat-label>Name</mat-label>
                  <input matInput formControlName="name" type="text" value="{{ selectedTb.improvements[4].name }}">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Description</mat-label>
                  <textarea matInput formControlName="description" 
                  value="{{ selectedTb.improvements[4].description }}"></textarea>
                </mat-form-field>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
        <mat-card class="logos">
          <button mat-raised-button class="btn-mythos" type="submit">Submit</button>
        </mat-card>
      </form>
    </div>
  </div>
</div>
{{ newThemeBookForm.value | json }}